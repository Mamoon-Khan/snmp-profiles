# https://mibs.observium.org/mib/VELOCLOUD-EDGE-MIB/
# The EDGE 3X00 device does not show any proprietary MIB results on SNMP walk
---
extends:
  - system-mib.yml
  - if-mib.yml
  - host-resources-mib.yml

provider: kentik-router

sysobjectid:
  - 1.3.6.1.4.1.45346.1.1    # VeloCloud EDGE

metrics:
  # Memory Utilization - polled at 60s to support anomaly detection
  - MIB: HOST-RESOURCES-MIB
    symbol:
      name: hrStorageSizeRAM
      OID: 1.3.6.1.2.1.25.2.3.1.5.1
      poll_time_sec: 60
      tag: MemoryTotal
  - MIB: HOST-RESOURCES-MIB
    symbol:
      name: hrStorageUsedRAM
      OID: 1.3.6.1.2.1.25.2.3.1.6.1
      poll_time_sec: 60
      tag: MemoryUsed
  # CPU Utilization - polled at 60s to support anomaly detection
  - MIB: HOST-RESOURCES-MIB
    symbol:
      name: hrProcessorLoadCombined
      OID: 1.3.6.1.2.1.25.3.3.1.2.196608
      poll_time_sec: 60
      tag: CPU      
	# Velo Cloud EDGE MIBs
	- MIB: VELOCLOUD-MIB-EDGE          # The name of the target MIB
    # The 'table' section is where you announce the target MIB table
	  table:
	    - name: vceLink                         # The name of the target table
        OID: 1.3.6.1.4.1.45346.1.1.2.2.2.3    # The root OID of the target table
	  symbols:
		  - name: VCE RxJitter
		    OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.21
		  - name: VCE Link TxLatency
        OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.22  
		  - name: VCE Link RxLatency
        OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.23  
	    - name: VCE TxLostPkt
        OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.24
		  - name: VCE RxLostPkt
        OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.25
		  - name: VEC Link State
        OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.34
	   metric_tags:
	     - name: Velocloud Edge Link Name
         OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.3
		   - name: VCE Path Peer Name
         OID: 1.3.6.1.4.1.45346.1.1.2.4.2.2.1.6
       - name: VCE Link Itf
         OID: 1.3.6.1.4.1.45346.1.1.2.3.2.2.1.33